(self.webpackChunkSHEIN_W=self.webpackChunkSHEIN_W||[]).push([[18867,77483],{18178:(o,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>r});var t=e(655975),n=e.n(t),l=e(687277),a=e.n(l)()(n());a.push([o.id,".crop-image-container{height:0;overflow:hidden;position:relative}.crop-image-container.loading{--crop-img-fit:cover}[mir] .crop-image-container.loading .crop-image-container__mask{background-color:transparent}.crop-image-container__inner{display:block;height:100%;position:absolute;top:0;width:100%}[mir] .crop-image-container__inner{background-position:50%!important;background-repeat:no-repeat!important;background-size:contain!important}[mir=ltr] .crop-image-container__inner{left:0}[mir=rtl] .crop-image-container__inner{right:0}.crop-image-container__img{height:100%;-o-object-fit:contain;object-fit:contain;-o-object-fit:var(--crop-img-fit,contain);object-fit:var(--crop-img-fit,contain);position:absolute;top:0;width:100%}[mir=ltr] .crop-image-container__img{left:0}[mir=rtl] .crop-image-container__img{right:0}.crop-image-container__mask{bottom:0;position:absolute;top:0}[mir] .crop-image-container__mask{background-color:rgba(0,0,0,.03)}[mir=ltr] .crop-image-container__mask,[mir=rtl] .crop-image-container__mask{left:0;right:0}","",{version:3,sources:["webpack://./public/src/pages/components/CropImageContainer/CropImageContainer.vue"],names:[],mappings:"AAEA,sBAGE,QAAA,CADA,eAAA,CADA,iBA4BF,CAxBE,8BACE,oBA0BJ,CA3BE,gEAII,4BA0BN,CAtBE,6BACE,aAAA,CAKA,WAAA,CAJA,iBAAA,CAEA,KAAA,CACA,UA+BJ,CApCE,mCAOE,iCAAA,CAEA,qCAAA,CADA,iCA4BJ,CApCE,uCAGE,MAiCJ,CApCE,uCAGE,OAiCJ,CAxBE,2BAKE,WAAA,CACA,qBAAA,CAAA,kBAAA,CAAA,yCAAA,CAAA,sCAAA,CALA,iBAAA,CAEA,KAAA,CACA,UA4BJ,CAhCE,qCAEE,MA8BJ,CAhCE,qCAEE,OA8BJ,CAvBE,4BAKE,QAAA,CAJA,iBAAA,CAEA,KA4BJ,CA/BE,kCAME,gCAyBJ,CA/BE,4EAEE,MAAA,CAEA,OA2BJ",sourcesContent:["@import '~public/src/less/variables.less';@import '~public/src/less/mixins/lib.less';@import '~public/src/less/mixins/grid.less';@import '~public/src/less/mixins/buttons.less';@import '~public/src/less/mixins/clamp.less';@sui_color_brand: #000000;@sui_color_main: #222222;@sui_color_discount: #FA6338;@sui_color_discount_dark: #C44A01;@sui_color_promo: #FA6338;@sui_color_promo_dark: #C44A01;@sui_color_promo_bg: #FFF6F3;@sui_color_highlight: #C44A01;@sui_color_highlight_special: #337EFF;@sui_color_welfare: #FA6338;@sui_color_welfare_dark: #C44A01;@sui_color_welfare_bg: #FFF6F3;@sui_color_honor: #FACF19;@sui_color_safety: #198055;@sui_color_safety_bg: #F5FCFB;@sui_color_new: #3CBD45;@sui_color_link: #2D68A8;@sui_color_note_light_bg: #EFF3F8;@sui_color_flash: #FACF19;@sui_color_guide: #FE3B30;@sui_color_unusual: #BF4123;@sui_color_unusual_bg: #FAF0EE;@sui_color_success: #198055;@sui_color_prompt_unusual: #FFE1DB;@sui_color_prompt_warning: #FFF1D5;@sui_color_prompt_success: #E5F5E6;@sui_color_prompt_common: #D9EAFF;@sui_color_button_stroke_light: #BBBBBB;@sui_color_micro_emphasis: #A86104;@sui_color_micro_emphasis_bg: #FFF8EB;@sui_color_lightgreen: #198055;@sui_color_warning: #EF9B00;@sui_color_black: #000000;@sui_color_black_alpha80: rgba(0,0,0,.8);@sui_color_black_alpha60: rgba(0,0,0,.6);@sui_color_black_alpha30: rgba(0,0,0,.3);@sui_color_white: #ffffff;@sui_color_white_alpha80: rgba(255,255,255,.8);@sui_color_white_alpha60: rgba(255,255,255,.6);@sui_color_white_alpha30: rgba(255,255,255,.3);@sui_color_white_alpha96: rgba(255,255,255,.96);@sui_color_gray_dark1: #222222;@sui_color_gray_alpha60: rgba(34,34,34,.6);@sui_color_gray_alpha30: rgba(34,34,34,.3);@sui_color_gray_dark2: #666666;@sui_color_gray_dark3: #767676;@sui_color_gray_light1: #959595;@sui_color_gray_light2: #bbbbbb;@sui_color_gray_light3: #cccccc;@sui_color_gray_weak1: #e5e5e5;@sui_color_gray_weak2: #F6F6F6;@sui_color_gray_weak1a: #F2F2F2;@sui_color_club_rosegold_dark1: #873C00;@sui_color_club_rosegold_dark2: #C96E3F;@sui_color_club_rosegold_dark3: #DA7E50;@sui_color_club_rosegold_dark4: #EAA27E;@sui_color_club_rosegold: #FFBA97;@sui_color_club_rosegold_light1: #FFD8C4;@sui_color_club_rosegold_light2: #FFE2D3;@sui_color_club_gold: #FEECC3;@sui_color_club_black: #161616;@sui_color_club_orange: #FF7F46;\n\n.crop-image-container {\n  position: relative;\n  overflow: hidden;\n  height: 0;\n\n  &.loading {\n    --crop-img-fit: cover;\n\n    .crop-image-container__mask {\n      background-color: transparent;\n    }\n  }\n\n  &__inner {\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-position: 50% !important; /* stylelint-disable-line declaration-no-important */\n    background-size: contain !important; /* stylelint-disable-line declaration-no-important */\n    background-repeat: no-repeat !important; /* stylelint-disable-line declaration-no-important */\n  }\n\n  &__img {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: var(--crop-img-fit, contain);\n  }\n\n  &__mask {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0,0,0,0.03);\n  }\n\n  // .backdrop-frame {\n  //   position: absolute;\n  //   left: 0;\n  //   top: 0;\n  //   width: 100%;\n  //   height: 100%;\n  //   backdrop-filter: blur(100px);\n  // }\n}\n"],sourceRoot:""}]);const r=a},202836:(o,i,e)=>{"use strict";e.d(i,{A:()=>d});var t=e(274061);const n=["src"],l=["srcset"],a=["src","alt"],r=["src","alt"],u=["src","data-src","data-design-width","data-exp","alt"];var s=e(214022);const c={name:"TransformImg",props:{imgSrc:{type:String,default:""},usePicture:{type:Boolean,default:!1},isFirstPage:{type:Boolean,default:!1},alt:{type:String,default:""},imgStyle:{type:Object,default:()=>({})},loadImg:{type:String,default:""},useOriginImg:{type:Boolean,default:!1},imgClassName:{type:[String,Array,Object],default:""},imgDesignWidth:{type:[Number,String],default:0},imgDataExp:{type:Object,default:()=>({})}},inject:{cutImg:{from:"cutImg",default:o=>o}},data:()=>({EmptyImg:s.VK}),computed:{imgDataExpStr(){return(0,s.fZ)(this.imgDataExp)},baseCutImg(){return null==this||!this.cutImg||this.useOriginImg?this.imgSrc.replace(/^https?\:/,"").replace(/\b(\.jpg|\.png)\b/,".webp"):this.cutImg(this.imgSrc,this.imgDesignWidth,this.imgDataExp)},normalCutImg(){const o=this.imgSrc,i=o.lastIndexOf("."),e=o.slice(i),t=this.baseCutImg,n=t.slice(i);return t.replace(n,e)}}};const d=(0,e(196957).A)(c,[["render",function(o,i,e,s,c,d){return e.usePicture&&e.isFirstPage?((0,t.openBlock)(),(0,t.createElementBlock)("picture",{key:0,src:d.normalCutImg},[(0,t.createElementVNode)("source",{srcset:d.baseCutImg,type:"image/webp"},null,8,l),(0,t.createElementVNode)("img",{class:(0,t.normalizeClass)(e.imgClassName),style:(0,t.normalizeStyle)(e.imgStyle),src:d.normalCutImg,alt:e.alt},null,14,a)],8,n)):!e.usePicture&&e.isFirstPage?((0,t.openBlock)(),(0,t.createElementBlock)("img",{key:1,class:(0,t.normalizeClass)(e.imgClassName),style:(0,t.normalizeStyle)(e.imgStyle),src:d.baseCutImg,alt:e.alt},null,14,r)):((0,t.openBlock)(),(0,t.createElementBlock)("img",{key:2,class:(0,t.normalizeClass)(["lazyload",e.imgClassName]),style:(0,t.normalizeStyle)(e.imgStyle),src:e.loadImg||o.EmptyImg,"data-src":e.imgSrc,"data-design-width":e.imgDesignWidth,"data-exp":d.imgDataExpStr,alt:e.alt},null,14,u))}],["__file","transformImg.vue"]])},277715:(o,i,e)=>{"use strict";e.d(i,{A8:()=>S,F5:()=>F,HF:()=>g,K5:()=>w,KC:()=>A,Ll:()=>E,MM:()=>h,MW:()=>B,St:()=>v,aG:()=>y,f7:()=>c,gs:()=>b,iV:()=>I,jT:()=>_,re:()=>C,tp:()=>p,u4:()=>k,vZ:()=>f});var t=e(899909),n=e.n(t),l=e(99114),a=e(383112),r=e(665640);const{SiteUID:u}=gbCommonInfo,s=[2,17,23,56,65],c=o=>{var i,e;let[t,n]=[{},o];if(n.keyId=t.keyId=(new Date).getTime(),t.handle_flag=n.handle_flag?++n.handle_flag:1,t.handle_flag>1)return n;t.coupon=(null==n?void 0:n.coupon)||(null==n?void 0:n.couponCode)||(null==n?void 0:n.couponcode)||(null==n?void 0:n.coupon_code)||"",t.id=(null==n?void 0:n.id)||(null==n?void 0:n.couponId)||t.coupon||"",t.apply_for=((null==n?void 0:n.apply_for)||(null==n?void 0:n.applyFor)||"")+"",t.platform_store=(null==n?void 0:n.platformStore)||(null==n?void 0:n.platform_store)||{},t.start_date=m((null==n?void 0:n.startTimestamp)||(null==n?void 0:n.start_date)||(null==n?void 0:n.startTime)||(null==n?void 0:n.start_time)||(null==n?void 0:n.startDate)||""),t.end_date=m((null==n?void 0:n.endTimestamp)||(null==n?void 0:n.end_date)||(null==n?void 0:n.endTime)||(null==n?void 0:n.end_time)||(null==n?void 0:n.endDate)||""),t.bind_time=(null==n?void 0:n.bind_time)||"",t.coupon_type_id=(null==n?void 0:n.rule_dimension)||(null==n?void 0:n.ruleDimension)||(null==n?void 0:n.coupon_type_id)||(null==n?void 0:n.couponTypeId)||(null==n?void 0:n.exportType)||"",t.timeStatus=(null==n?void 0:n.timeStatus)||"",t.selfStatus=(null==n?void 0:n.selfStatus)||"",t.times=(null==n?void 0:n.times)||(null==n?void 0:n.couponTimes)||(null==n?void 0:n.singleAvailableTimes)||"",t.category_id=n.category_id||"",t.category_name=(null==n?void 0:n.category_name)||(null==n?void 0:n.category_name_list)||[],t.scId=(null==n?void 0:n.scId)||"",t.coupon_status=(null==n?void 0:n.coupon_status)||(null==n?void 0:n.couponStatus)||(null==n?void 0:n.bind_status)||"",t.payment_title=(null==n?void 0:n.payment_title)||(null==n?void 0:n.paymentTitle)||[],t.payment_limit=(null==n?void 0:n.payment_limit)||(null==n?void 0:n.paymentLimit)||[],t.need_price=(null==n?void 0:n.needPrice)||{},t.real_discount_price=(null==n?void 0:n.realDiscountPrice)||{},t.filter_rule=+((null==n?void 0:n.filter_rule)||(null==n?void 0:n.filterRule)||"0"),t.limit=+(null==n?void 0:n.limit)||0,t.limit_price=(null==n?void 0:n.limit_price)||{},t.satisfied_range=(null==n?void 0:n.satisfied_range)||(null==n?void 0:n.satisfiedRange)||0,t.real_type_id=(null==n?void 0:n.real_type_id)||(null==n?void 0:n.realTypeId)||(null==n?void 0:n.type_id)||"",t.shein_club_use=(null==n?void 0:n.shein_club_use)||(null==n?void 0:n.sheinClubUse)||0,t.shipping_discount_type=String(null==n?void 0:n.shipping_discount_type),"undefined"==(null==t?void 0:t.shipping_discount_type)&&(t.shipping_discount_type=String(null==n?void 0:n.shippingDiscountType)),t.shipping_list=(null==n?void 0:n.shipping_list)||(null==n?void 0:n.shippingList)||[],t.expandStatus=(null==n?void 0:n.expandStatus)||"","undefined"==(null==n?void 0:n.is_bind)?t.is_bind=null==n?void 0:n.isBind:t.is_bind=null==n?void 0:n.is_bind,t.is_best=!!Number(null==n?void 0:n.is_best),t.is_expand=null==n?void 0:n.is_expand,t.expanded_coupon_info=null==n?void 0:n.expandedCouponInfo,t.scId=(null==n?void 0:n.scId)||"",t.isCateCoupon=(null==n?void 0:n.isCateCoupon)||!1,t.is_estimated_best_coupon=(null==n?void 0:n.is_estimated_best_coupon)||!1,t.is_stacked_best_coupon=(null==n?void 0:n.is_stacked_best_coupon)||!1,t.is_new_user=(null===(i=s)||void 0===i||null===(e=i.includes)||void 0===e?void 0:e.call(i,+(null==n?void 0:n.type_id)))&&![5,6,9].includes(+(null==t?void 0:t.apply_for)),t.shippingApplyFor=(null==n?void 0:n.shipping_apply_for)||(null==n?void 0:n.shippingApplyFor)||-1,t.rights_info=(null==n?void 0:n.rights_info)||{},t.countdownTime=(null==n?void 0:n.countdownTime)||"",t.card=n.card||{};const l=(null==n?void 0:n.other_coupon_rule)||(null==n?void 0:n.rule)||(null==n?void 0:n.coupon_rule)||(null==n?void 0:n.coupon_rules)||(null==n?void 0:n.couponRule)||[];var a,r,u,c,p,_,g,v;(t.coupon_rule=[],l.length&&l.forEach(((o,i)=>{var e,n,l,a,r,u,s;const c={coupon_gift_id:"",value:{},min:{},max:{}};var d,m;(c.coupon_gift_id=(null==o?void 0:o.coupon_gift_id)||"",c.satisfied_max_range=(null==o?void 0:o.satisfied_max_range)||"",o.value&&(c.value.amount=o.value),o.price&&(c.value.amount=o.price.price,c.value.amountWithSymbol=o.price.priceSymbol),o.min_order&&(c.min.amount=o.min_order.price,c.min.amountWithSymbol=o.min_order.priceSymbol),o.max_order&&(c.max.amount=o.max_order.price,c.max.amountWithSymbol=o.max_order.priceSymbol),o.valuePrice&&(c.value.amount=o.valuePrice.amount,c.value.amountWithSymbol=o.valuePrice.amountWithSymbol),o.minPrice&&(c.min.amount=o.minPrice.amount,c.min.amountWithSymbol=o.minPrice.amountWithSymbol),o.maxPrice&&(c.max.amount=o.maxPrice.amount,c.max.amountWithSymbol=o.maxPrice.amountWithSymbol),null!==(e=o.value)&&void 0!==e&&e.amount&&(c.value.amount=o.value.amount,c.value.amountWithSymbol=o.value.amountWithSymbol),null!==(n=o.min)&&void 0!==n&&n.amount&&(c.min.amount=o.min.amount,c.min.amountWithSymbol=o.min.amountWithSymbol),null!==(l=o.max)&&void 0!==l&&l.amount&&(c.max.amount=o.max.amount,c.max.amountWithSymbol=o.max.amountWithSymbol),null!==(a=o.minAmount)&&void 0!==a&&a.amount&&(c.min.amount=o.minAmount.amount,c.min.amountWithSymbol=o.minAmount.amountWithSymbol),null!==(r=o.maxAmount)&&void 0!==r&&r.amount&&(c.max.amount=o.maxAmount.amount,c.max.amountWithSymbol=o.maxAmount.amountWithSymbol),null!==(u=o.valueAmount)&&void 0!==u&&u.amount&&(c.value.amount=o.valueAmount.amount,c.value.amountWithSymbol=o.valueAmount.amountWithSymbol),null!==(s=o.value_amount)&&void 0!==s&&s.amount)&&(c.value.amount="1"==o.coupon_gift_id?null===(d=o.value_amount)||void 0===d?void 0:d.amount:(100*(1-o.value)).toFixed(0),c.value.amountWithSymbol=null===(m=o.value_amount)||void 0===m?void 0:m.amountWithSymbol);t.coupon_rule[i]={...o,...c}})),t.coupon_rule.length>1&&t.coupon_rule.sort(d()),t.coupon_dimension=String((null==n?void 0:n.coupon_dimension)||(null==n?void 0:n.couponDimension)||""),null!=n&&n.mall)&&(t.mall={mall_code:(null==n||null===(a=n.mall)||void 0===a?void 0:a.mall_code)||(null==n||null===(r=n.mall)||void 0===r?void 0:r.mallCode)||"",mall_name_multi:(null==n||null===(u=n.mall)||void 0===u?void 0:u.mall_name_multi)||(null==n||null===(c=n.mall)||void 0===c?void 0:c.mallNameMulti)||""});null!=n&&n.store&&(t.store={store_code:(null==n||null===(p=n.store)||void 0===p?void 0:p.store_code)||(null==n||null===(_=n.store)||void 0===_?void 0:_.storeCode)||"",store_name_multi:(null==n||null===(g=n.store)||void 0===g?void 0:g.store_name_multi)||(null==n||null===(v=n.store)||void 0===v?void 0:v.storeNameMulti)||""});if(null!=t&&t.platform_store){var A,h,f,b,y;const o=null==t||null===(A=t.platform_store)||void 0===A||null===(h=A.third_store_total)||void 0===h||null===(f=h.third_stores)||void 0===f?void 0:f.map((o=>null==o?void 0:o.store_name_multi));t.thirdStoreInfo={storeNum:(null==t||null===(b=t.platform_store)||void 0===b||null===(y=b.third_store_total)||void 0===y?void 0:y.store_num)||0,storesName:null==o?void 0:o.join(",")}}return t},d=()=>(o,i)=>{var e,t;const n=+(null==o||null===(e=o.value)||void 0===e?void 0:e.amount)||0,l=+(null==i||null===(t=i.value)||void 0===t?void 0:t.amount)||0;return n>l?1:n<l?-1:0};function m(o){return Number(o)==o?o:new Date(n()(o).call(o,"-","/")).getTime()/1e3}const p=async()=>{var o;let i={};const e=await l.T.getUserAbtResult({newPosKeys:"CodeExpand"});var t;null!=e&&null!==(o=e.CodeExpand)&&void 0!==o&&o.param&&(i=null==e||null===(t=e.CodeExpand)||void 0===t?void 0:t.param);return{flagExpansion:i,abtestExpansion:await l.T.getUserAbtResultForAnalysis({abtInfo:e}).sa||""}},_=async o=>{var i;const e="ReturnInform",t=await l.T.getUserAbtResult({newPosKeys:e});return"on"==(null==t||null===(i=t[e].param)||void 0===i?void 0:i[o])},g=async()=>{var o,i;const e=await l.T.getUserAbtResult({newPosKeys:"CouponBagUITest"});return"A"==(null==e||null===(o=e.CouponBagUITest)||void 0===o||null===(i=o.param)||void 0===i?void 0:i.CouponBagLittleHand)},v=async()=>{var o;const i="PostAmount",e=await l.T.getUserAbtResult({posKeys:i});return"ShowPostAmount"===(null==e||null===(o=e[i])||void 0===o?void 0:o.param)},A=async()=>await l.T.getUserAbtResult({newPosKeys:"Couponaddall"}),h=async()=>{var o,i;let e=!1;const t=await l.T.getUserAbtResult({newPosKeys:"CouponPattern"});"show"==(null==t||null===(o=t.CouponPattern)||void 0===o||null===(i=o.param)||void 0===i?void 0:i.CouponCountdown)&&(e=!0);return{flag:e,abtest:await l.T.getUserAbtResultForAnalysis({abtInfo:t}).sa||""}},f=async()=>await l.T.getUserAbtResult({newPosKeys:"sheinclubme"}),b=async()=>await l.T.getUserAbtResult({newPosKeys:"SaverSwitch"}),y=async()=>{var o,i;const e=await l.T.getUserAbtResult({newPosKeys:"shippingcouponstack"});return"on"==(null==e||null===(o=e.shippingcouponstack)||void 0===o||null===(i=o.param)||void 0===i?void 0:i.shippingcouponstackswitch)},w=o=>{var i,e,t;let n=[];const l={...(null==o?void 0:o.mall_info)||{}},a={...(null==o||null===(i=o.mall_info)||void 0===i?void 0:i.store_info)||{}};return n=((null==o||null===(e=o.mall_info)||void 0===e||null===(t=e.store_info)||void 0===t?void 0:t.coupon_info)||[]).map((o=>Object.assign(o,{mall:l,store:a}))),n},C=async o=>{try{return await(0,a.A)({method:"POST",url:"/api/coupon/bindCouponsStore/update",data:o})}catch(o){o&&r.log(o)}},k=async o=>{try{return await(0,a.A)({method:"POST",url:"/api/productInfo/bindCoupon/post",data:o})}catch(o){return o}},S=o=>o.offsetHeight/parseFloat(window.getComputedStyle(o).lineHeight),E=async()=>await l.T.getUserAbtResult({newPosKeys:"CouponBagUITest"}),F={NEW_USER_GIFTS:{check:({item:o,abtNewUserGifts:i=!1})=>o.is_new_user&&i,langKey:"SHEIN_KEY_PC_30946",sort:0},BEST_COUPON:{check:({item:o})=>!!o.is_estimated_best_coupon,langKey:"SHEIN_KEY_PC_14673",sort:1},BEST_COUPON_STACK:{check:({item:o})=>!!o.is_stacked_best_coupon,langKey:"SHEIN_KEY_PC_29187",sort:1},AB_PRICE:{check:({item:o})=>101==o.apply_for,langKey:"SHEIN_KEY_PC_27311",sort:2}},B={defaultTheme:{"--themeColor":"#FA6338","--bgColor":"#FFF6F3","--borderColor":"#FFE2CF"},greenTheme:{"--themeColor":"#169E00","--bgColor":"#F3FAF6","--borderColor":"#CBE2C7"},superSaveTheme:{"--themeColor":"#F82854","--bgColor":"#FFF4F7","--borderColor":"#FEE3ED"}},I=o=>["5","6","9"].includes(o.apply_for)||"55"!=o.real_type_id?["5","6","9"].includes(o.apply_for)?{...B.greenTheme,"--labelTextColor":"#2D68A8","--labelBgColor":"#EFF3F8","--labelBorderColor":"51, 126, 255"}:null:B.superSaveTheme},561061:(o,i,e)=>{"use strict";e.d(i,{A:()=>s});var t=e(274061);const n=["data-before-crop-src"],l={key:2,class:"crop-image-container__mask"};var a=e(202836),r=e(632079);const u={name:"CropImageContainer",components:{TransformImg:a.A},props:{isSupportCropImage:{type:Boolean,default:!1},imgSrc:{required:!0,type:String,default:""},imgThumb:{type:String,default:""},containerBackground:{type:String,default:"#FFF"},transformImgProps:{type:Object,default:()=>({})},fixedRatio:{type:String,default:""},ignoreImgExt:{type:Boolean,default:!1},ignoreMask:{type:Boolean,default:!1}},data:()=>({imgLoadingCompleted:!1,realImgRatio:1}),emits:["clickImage","imgLoadSucc","imgLoadFail"],computed:{cropContainerStyle(){const o={backgroundColor:`${this.containerBackground}`},i={paddingBottom:`calc(${this.containerRatio.toFixed(2)} * 100%)`},e={...i,...o};return this.ignoreImgExt?e:this.isNotExtSrc?i:e},backdropFrameStyle(){return this.ignoreImgExt?{}:this.isNotExtSrc?{display:"none"}:{}},isSquareSrc(){return!!this.isHitApollo()&&this.imgSrc.includes("_square")},isSqufixSrc(){return!!this.isHitApollo()&&this.imgSrc.includes("_squfix")},isNotExtSrc(){return!this.isSqufixSrc&&!this.isSquareSrc},containerRatio(){if("3-4"===this.fixedRatio)return 4/3;if("4-5"===this.fixedRatio)return 5/4;if("5-6"===this.fixedRatio)return 1.2;if("13-16"===this.fixedRatio)return 16/13;if("1-1"===this.fixedRatio)return 1;return this.isSquareSrc?1:4/3},originImgSrc(){return this.isHitApollo()?this.imgSrc.replace(/(_square)|(_squfix)/gi,""):this.imgSrc},closestRatioStr(){return(0,r.B3)(this.realImgRatio)},forwardProps(){const o={...this.$props.transformImgProps};return void 0===o.loadImg&&(o.loadImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdj+PTp038ACYYD1sVKshAAAAAASUVORK5CYII="),o}},created(){const{loadImg:o,usePicture:i,isFirstPage:e}=this.forwardProps||{};(!o||i&&e||!i&&e)&&(this.imgLoadingCompleted=!0)},mounted(){var o,i;const e=this.$refs.TransformImgRef;(null!==(o=null==e||null===(i=e.$el)||void 0===i?void 0:i.getAttribute("src"))&&void 0!==o?o:"")===this.forwardProps.loadImg||this.imgLoadingCompleted||(this.imgLoadingCompleted=!0)},methods:{onLoadImg(o){var i;const e=null===(i=this.forwardProps)||void 0===i?void 0:i.loadImg;o.target.src.includes(e)||(this.$emit("imgLoadSucc",o),this.imgLoadingCompleted||(this.imgLoadingCompleted=!0))},onErrorImg(o){this.$emit("imgLoadFail",o)},isHitApollo:()=>!0}};e(907649);const s=(0,e(196957).A)(u,[["render",function(o,i,e,a,r,u){const s=(0,t.resolveComponent)("TransformImg");return(0,t.openBlock)(),(0,t.createElementBlock)("div",{class:(0,t.normalizeClass)(["crop-image-container",{loading:!r.imgLoadingCompleted}]),"data-before-crop-src":e.imgSrc,style:(0,t.normalizeStyle)(u.cropContainerStyle),onClick:i[0]||(i[0]=i=>o.$emit("clickImage"))},[e.imgThumb?((0,t.openBlock)(),(0,t.createElementBlock)("span",{key:0,class:"crop-image-container__inner fsp-element",style:(0,t.normalizeStyle)({"background-image":`url(${e.imgThumb})`})},[(0,t.createVNode)(s,(0,t.mergeProps)({ref:"TransformImgRef"},u.forwardProps,{class:"crop-image-container__img not-fsp-element","img-src":u.originImgSrc}),null,16,["img-src"])],4)):((0,t.openBlock)(),(0,t.createBlock)(s,(0,t.mergeProps)({key:1,ref:"TransformImgRef"},u.forwardProps,{class:"crop-image-container__img","img-src":u.originImgSrc,onLoad:u.onLoadImg,onError:u.onErrorImg}),null,16,["img-src","onLoad","onError"])),e.ignoreMask?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createElementBlock)("div",l)),(0,t.renderSlot)(o.$slots,"content")],14,n)}],["__file","CropImageContainer.vue"]])},685200:(o,i,e)=>{"use strict";e.d(i,{A:()=>a});var t=e(274061),n=e(720493);const l={__name:"CouponItemBff",props:{data:{type:Object,default:()=>{}},couponConfig:{type:Object,default:()=>{}},language:{type:Object,default:()=>{}},expanded:{type:String,default:""},isForBff:{type:Boolean,default:!1}},emits:["button-click"],setup(o,{emit:i}){const e=o,l=(0,t.computed)((()=>{var o,i,t;return{...e.data,...e.couponConfig,waterMark:r.value,buttonInfo:u.value,categoryLabelList:[...s.value],addModule:{...e.data.addModule,type:null!==(o=e.data)&&void 0!==o&&o.addModule?String(null===(i=e.data)||void 0===i||null===(t=i.addModule)||void 0===t?void 0:t.type):"0"}}})),a=(0,t.computed)((()=>{var o,i,t;return{...e.data,...e.couponConfig,waterMark:r.value,buttonInfo:u.value,categoryLabelList:[...s.value],addModule:{...e.data.addModule,type:null!==(o=e.data)&&void 0!==o&&o.addModule?String(null===(i=e.data)||void 0===i||null===(t=i.addModule)||void 0===t?void 0:t.type):"0"}}})),r=(0,t.computed)((()=>{let o=void 0===e.couponConfig.waterMark?e.data.waterMark:e.couponConfig.waterMark;return o?parseInt(o):0})),u=(0,t.computed)((()=>{var o,i,t;let n=void 0===e.couponConfig.buttonInfo?(null===(o=e.data)||void 0===o||null===(i=o.buttonInfo)||void 0===i?void 0:i.type)||(null===(t=e.data)||void 0===t?void 0:t.buttonInfo):e.couponConfig.buttonInfo;return n?String(n):"0"})),s=(0,t.computed)((()=>{var o,i;return(null===(o=e.data)||void 0===o||null===(i=o.categoryLabelList)||void 0===i?void 0:i.map((o=>o.title)))||[]})),c=o=>{i("button-click",o)};return(i,e)=>((0,t.openBlock)(),(0,t.createBlock)(n.A,{data:(0,t.unref)(l),"coupon-config":(0,t.unref)(a),language:o.language,expanded:o.expanded,"is-for-bff":o.isForBff,onButtonClick:c},null,8,["data","coupon-config","language","expanded","is-for-bff"]))}};const a=(0,e(196957).A)(l,[["__file","CouponItemBff.vue"]])},845718:(o,i,e)=>{"use strict";e.d(i,{$X:()=>g,Ck:()=>_,PA:()=>A,SE:()=>v,X5:()=>l,m0:()=>h,nN:()=>m,nV:()=>d,rZ:()=>f,yA:()=>p});var t=e(869571),n=e.n(t);const l={"A-1":["ar","tw","jp","rwar"],"A-2":["www","us","il","asia","rw","rwus"],"A-3":["de","fr","es","it","ca","se","mx","th","eur","nl","au","ma","br","sg","nz","pl","vn","rwde","rwfr","rwes","rwit","rwca","rwmx","rwau"],"A-4":["uk","ru","in","hk","za","cl","rwuk","rwin"]},a={www:["www","rw"],us:["us","rwus"],ar:["ar","rwar"],de:["de","rwde"],fr:["fr","rwfr"],es:["es","rwes"],it:["it","rwit"],ru:["ru"],uk:["uk","rwuk"],au:["au","rwau"],tw:["tw"],in:["in","rwin"],mx:["mx","rwmx"],il:["il"],th:["th"],nl:["nl"],hk:["hk"],vn:["vn"],se:["se"],ca:["ca","rwca"],cl:["cl"],eur:["eur"],ma:["ma"],br:["br"],sg:["sg"],za:["za"],nz:["nz"],pl:["pl"],asia:["asia"],id:["id"],ph:["ph"],pt:["pt"],jp:["jp"],my:["my"],ch:["ch"],roe:["roe"],euqs:["euqs"]},r={"F-2":["uk","ru","in","hk","za","cl","nl"],"F-3":["se"],"F-4":["de","fr","es","it","ca","mx","th","eur","au","ma","br","sg","nz","pl","vn","il"],"F-5":["www","us","asia"],"F-7":["jp","ar","tw"]},u={"A-4":["uk","ru","in","hk","za","cl","nl"],"A-5":["se"],"A-3":["de","fr","es","it","ca","mx","th","eur","au","ma","br","sg","nz","pl","vn","il"],"A-2":["www","us","asia"],"A-6":["jp","ar","tw"]};let s={},c={};for(const o in r)if(Object.hasOwnProperty.call(r,o)){const i=r[o];for(let e=0;e<i.length;e++)s[o]=n()((s[o]||[]).concat(a[i[e]]))}for(const o in u)if(Object.hasOwnProperty.call(u,o)){const i=u[o];for(let e=0;e<i.length;e++)c[o]=n()((c[o]||[]).concat(a[i[e]]))}const d=Object.freeze(s),m=Object.freeze(c),p={"A-1":["ar","tw","jp","rwar"],"B-2":["www","us","il","asia","rw","rwus"],"B-3":["de","fr","es","it","ca","se","mx","th","eur","nl","au","ma","br","sg","nz","pl","vn","uk","ru","in","hk","za","cl","rwde","rwfr","rwes","rwit","rwca","rwmx","rwau","rwuk","rwin"]},_={"E-7":["ar","tw","jp","rwar"],"E-1":["www","us","il","asia","rw","rwus"],"E-6":["de","fr","es","it","ca","se","mx","th","eur","nl","au","ma","br","sg","nz","pl","vn","uk","ru","in","hk","za","cl","rwde","rwfr","rwes","rwit","rwca","rwmx","rwau","rwuk","rwin"]},g={"D-1":["ar","tw","jp","rwar"],"D-5":["www","us","il","asia","rw","rwus"],"D-6":["de","fr","es","it","ca","se","mx","th","eur","nl","au","ma","br","sg","nz","pl","vn","uk","ru","in","hk","za","cl","rwde","rwfr","rwes","rwit","rwca","rwmx","rwau","rwuk","rwin"]},v={"A-2":["ph"],"A-3":["hk"],"A-5":["tw","ar"],"B-2":["en","us","il","asia"]},A={"D-2":["hk"],"D-4":["tw","ar"],"D-5":["en","us","il"]},h={"E-5":["ph"],"E-4":["hk"],"E-3":["tw","ar"],"E-1":["en","us","il","asia"]},f={"F-5":["ph"],"F-4":["hk"],"F-3":["tw","ar"],"F-1":["en","us","il","asia"]}},907649:(o,i,e)=>{var t=e(18178);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[o.id,t,""]]),t.locals&&(o.exports=t.locals);(0,e(474424).A)("2f83f738",t,!0,{})}}]);
//# sourceMappingURL=77483-900c495097f60ded.js.map