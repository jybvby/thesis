"use strict";(self.webpackChunkSHEIN_W=self.webpackChunkSHEIN_W||[]).push([[43824],{127269:(e,t,a)=>{a.d(t,{ie:()=>n,jP:()=>d,qI:()=>c});var i=a(221996),s=a(28366),r=a(369795),o=a(665640);let l=null;const c=()=>{l=l||async function(){var e,t,a,l,c,n,_;if("undefined"==typeof window)return Promise.resolve();if("undefined"==typeof gbRawData)return Promise.resolve();if(null===(e=gbRawData)||void 0===e||null===(t=e.results)||void 0===t||!t.firstStrategyGoodsNum||(null===(a=gbRawData)||void 0===a||null===(l=a.results)||void 0===l?void 0:l.firstStrategyGoodsNum)<=0)return Promise.resolve();if(!d())return Promise.resolve();"scrollRestoration"in history&&(history.scrollRestoration="manual");const u={type:"firstLoad",query:{page:1,prePureGoods:1,...(0,s.J)(location.search)},loading:!1},p=(null===(c=gbRawData)||void 0===c?void 0:c.results.cat_info)||{};if(null!==(n=gbRawData)&&void 0!==n&&null!==(_=n.results)&&void 0!==_&&_.isStoreItemBff){var g;const e=(null===(g=gbRawData.results)||void 0===g?void 0:g.atomicParams)||{},t=await(0,r.mp)({catInfo:p,searchKeywords:{},atomicParams:e,viewedGoods:[],request:u},{isPreFetch:!0}).catch((()=>({})));return t&&(t.isStoreItemBff=!0),t&&!t.cat_info&&(t.cat_info=u.query||{}),t}const m=await(0,i.Y)({request:u,catInfo:p},{isPreFetch:!0}).catch((e=>{o.error(e)}));return(null==m?void 0:m.goods)||[]}()},n=()=>(l||c(),l);function d(){var e,t,a;return!("undefined"==typeof window||!window.gbRawData||!window.gbRawData.results)&&"store"===(null===(e=window.gbRawData)||void 0===e||null===(t=e.results)||void 0===t||null===(a=t.cat_info)||void 0===a?void 0:a.type)}},221996:(e,t,a)=>{a.d(t,{Y:()=>r});var i=a(383112);const s=e=>{const{catInfo:t,request:a}=e,{sub_type:i,select_id:s,store_code:r}=t,o={store_code:r,type:i,search_type:"store",routeId:s,...a.query,requestType:a.type,top_cate_id:void 0,main_cate_id:void 0,main_goods_id:void 0},l={};return Object.entries(o).forEach((([e,t])=>{null!=t&&""!==t&&(Number.isNaN(t)||(l[e]=decodeURIComponent(t)))})),l};function r(e,t={}){return(0,i.A)({url:"/api/store/items/get",params:s(e),...t})}},266686:(e,t,a)=>{a.d(t,{s:()=>i});const i=({func:e,wait:t=0,options:a={}})=>{const{leading:i=!1}=a;let s,r,o;const l=function(...a){return new Promise((l=>{if(o=this,s&&clearTimeout(s),i){const i=!s;s=setTimeout((()=>{s=null}),t),i&&(r=e.apply(o,a),l(r))}else s=setTimeout((()=>{r=e.apply(o,a),l(r),s=o=null}),t)}))};return l.cancel=function(){s&&clearTimeout(s),s=o=null},l}},369795:(e,t,a)=>{a.d(t,{mp:()=>ie,Hs:()=>ne,JP:()=>ce});const i="/api/productList/info/get",s=new Map([["daily_new","daily_new_v2"],["search","search_v3"],["entity","selection_v4"],["selection","selection_v4"],["selling","selling_point_v1"],["picks","bff_shein_picks_v1"]]),r={SEARCH:{goods:"/product/get_products_by_keywords",filters:"/search/get_aggregation_filters",bannerCard:"/search/card/non_category_by_keywords"},REAL:{goods:"/category/real_category_goods_list",filters:"/category/real_category_attr_filter",cloudTag:"/category/real_category_tags"},SELEST:{goods:"/category/get_select_product_list",filters:"/category/select_category_attr_filter",cloudTag:"/category/select_category_tags"},SELLING:{goods:"/category/get_tags_goods_list",filters:"/category/get_tags_goods_list_filter",cloudTag:"/category/selling_category_tags"},PICKED:{goods:"/product/recommend/information_flow_selected_products",filters:"/product/recommend/information_flow_selected_filter",cloudTags:"/product/recommend/information_flow_selected_tags"},SHEIN_PICKS:{goods:"/category/get_products_by_discount_list",filters:"/category/get_discount_list_filter",cloudTag:"/category/discount_category_tags",navTabs:"/category/get_discount_cat"},USER_BEHAVIOR:{goods:"/category-api/recommend/get-user-behavior-products"},FEEDBACK_REC:{goods:"/product/recommend/feedback_products",filters:"/product/recommend/feedback_filter",cloudTags:"/product/recommend/feedback_tags"},DAILY_NEW:{goods:"/category/category_daily_new",filters:"/category/get_daily_new_filter",cloudTag:"/category/daily_new_category_tags"},COMMON:{categoryDay:"/category/select_category_day",showRecentDays:"/category/v2/category_daily_show_recent_days",buyboxEntrance:"/recommend/buybox/buybox_entrance",rankListComponent:"/category/rank_list_component",cccCommonComponent:"/ccc/common_component",discountChannelComp:"/recommend/discount/channel_component",sheinClubInfo:"/user-api/prime/info"},DISCOUNT:{goods:"/recommend/discount/channel_landing_page",tabs:"/recommend/discount/landing_page_discount_tabs"}};var o=a(383112),l=a(665640);function c(e,t){const a={},i={},s=Object.keys(e);function r(){Object.keys(e).forEach((o=>{a.hasOwnProperty(o)||i.hasOwnProperty(o)||!function(t){const i=e[t];if(Array.isArray(i))return i.slice(0,-1).every((e=>a.hasOwnProperty(e)));return!0}(o)||function(o){i[o]=!0;const c=e[o];if(Array.isArray(c)){const e=c.slice(0,-1),l=e.find((e=>!s.includes(e)));if(l)return void t(new Error(`async.auto task [${o}] has non-existent dependency in [${l}]`));const n=c[c.length-1],d=e.reduce(((e,t)=>(e[t]=a[t],e)),{});try{n(d,((e,s)=>{e?t(e,a):(a[o]=s,delete i[o],r())}))}catch(e){t(e)}}else{"function"!=typeof c&&l.log("task is not defined",o,typeof c);try{c(((e,s)=>{e?t(e,a):(a[o]=s,delete i[o],r())}))}catch(e){t(e)}}}(o)})),0===Object.keys(i).length&&t(null,a)}r()}function n(e){return new Promise(((t,a)=>{c(function(e={}){return Object.keys(e).reduce(((t,a)=>{const i=e[a];if(i instanceof Promise)return t[a]=e=>{i.then((t=>{e(null,t)})).catch((t=>{e(t)}))},t;if(Array.isArray(i)||"function"==typeof i)return t[a]=i,t;throw new Error(`task ${a} is not a valid task, typeof ${typeof i}`)}),{})}(e),((e,i)=>e?a(e):t(i)))}))}var d=a(449631);const _=e=>"search"===e,u=(e,t)=>_(e)&&!p(e,t)&&!g(e,t)&&!m(e,t),p=(e,t)=>_(e)&&"store"===t.search_type,g=(e,t)=>_(e)&&"brand"===t.search_type,m=(e,t)=>_(e)&&"pageTrend"===t.search_type,f=e=>{if(e.pic_nav_adp)return e.pic_nav_adp;return["child_cat_id","attr_ids","brand_ids","tag_ids","min_price","max_price","pic_nav_id","tsp_ids"].some((t=>e[t]||0===e[t]))?"":e.adp||""},y=e=>{const{pic_nav_id:t="",search_source:a=""}=e;let i="";t&&(i=d.Fu.IMG_NAV);return d.sT.some((t=>e[t]))&&(i=d.Fu.USER_INPUT),i||a},h=e=>{if("object"!=typeof e||null===e)return e;const t={};for(const a in e)if(e.hasOwnProperty(a)){const i=e[a];null!=i&&""!==i&&(t[a]=i)}return t};function I({catInfo:e,searchKeywords:t}){if(!e.type)return{};let a,i;switch(e.type){case"store":return{store_code:e.store_code,type:e.sub_type,routeId:e.select_id};case"entity":a=e.entity_id;break;case"virtual":a=e.virtual_id;break;case"selection":a=e.select_id,i=e.sub_type;break;case"selling":a=e.tag_val_id;break;case"search":a=Number(t.is_suggest_res)?t.suggest_words:t.origin_words}return{type:e.type,routeId:a,sub_type:i}}function v({searchKeywords:e,catInfo:t,atomicParams:a,viewedGoods:i=[],request:s}){const{query:r={},type:o}=s,l={...I({catInfo:t,searchKeywords:e}),...r,requestType:o,force_suggest:"1"===e.double_lang_correct,reqSheinClub:a.reqSheinClub,isPaid:a.isPaid,viewed_goods:i.join()};return Object.keys(l).forEach((e=>{["min_price","max_price","isPaid","sourceStatus"].includes(e)&&0===Number(l[e])||!l[e]&&delete l[e]})),"search"===l.type&&(l.search_source=y(l)),l}const T=e=>{var t,a;const{request:i,catInfo:s,viewedGoods:r}=e,o=i.query||{},l="quickship"===o.tag_ids,c=o.mall_tag||"",n=c?o.tag_ids:"",d=o.mallCode||"",_=!(o.sil_without_entry||!o.sil_type);let u=o.attr_ids||"",p=l||c?"":o.tag_ids;return["0",0].includes(p)&&(p=""),{filter:u,tagIds:p,newSrcTabPageId:("string"==typeof s.new_src_tab_page_id?s.new_src_tab_page_id:"-")||"-",date:o.daily||"",catId:o.child_cat_id||"",chooseIds:o.choose_ids||"",urlMallCode:d,filterMallCode:n,mallCode:n||d,maxPrice:null!==(t=o.max_price)&&void 0!==t?t:"",minPrice:null!==(a=o.min_price)&&void 0!==a?a:"",filterTagIds:o.tsp_ids||"",quickship:l?"1":"",listCatId:_?o.list_cat_id:"",intentChannelId:o.intent_channel_id||"",brandId:s.brand_id||"",filterBrandIds:o.brand_ids||"",storeCode:o.store_code||"",sort:o.sort||"",source:s.source||"",sourceStatus:s.source_status||"",channelId:s.channel_id||"",limit:s.limit||120,filter_goods_infos:(r||[]).join(",")}},P=e=>{const{catInfo:t}=e,{type:a,sub_type:i}=t||{},s="store"===a?i:a;if("sheinPicks"===(null==t?void 0:t._type)){return{type:"sheinPicks",mainParams:{type:new Map([["entity",1],["selection",9]]).get(a),cat_id:t.picks_id}}}switch(s){case"search":return{type:"search",mainParams:{cate_type:4,keywords:t.keywords||""}};case"entity":return{type:"entity",mainParams:{cat_id:null==t?void 0:t.entity_id,cate_type:2}};case"selection":return{type:"selection",mainParams:{select_id:null==t?void 0:t.select_id,cate_type:1}};case"selling":return{type:"selling",mainParams:{tag_val_id:null==t?void 0:t.tag_val_id}};default:return{mainParams:{}}}},b=e=>!(e.sil_without_entry||!e.sil_type)?"ListSearchSort":"SearchPageSort",C=({catInfo:e,query:t})=>{let a=(null==t?void 0:t.src_identifier_pre_search)||"",i=["on","cn","hz","ps","jc"],s={};i.forEach((e=>{s[`src_identifier_${e}`]=""})),a&&"string"==typeof a&&a.split("`").forEach((e=>{let t=e.split("=")[0];i.includes(t)&&(s[`src_identifier_${t}`]=e.split("=")[1])}));let r="string"==typeof(null==e?void 0:e.src_tab_page_id)?null==e?void 0:e.src_tab_page_id:"";return{...s,src_module:(null==e?void 0:e.src_module)||"",src_tab_page_id:r.replace(/\d+$/,"")}},q=e=>{const{catInfo:t,searchKeywords:a,request:i}=e,s=i.query||{},{type:r,mainParams:o}=P(e),{newSrcTabPageId:l,quickship:c,filter:n,catId:d,filterBrandIds:I,filterTagIds:v,maxPrice:q,minPrice:w,tagIds:k,channelId:S,mallCode:R,serviceType:A,forceNotCorrect:E,listCatId:O,storeCode:D,intentChannelId:N}=T(e);let M={...o,quickship:c,filter:n,cat_id:d,filterBrandIds:I,filter_tag_ids:v,max_price:q,min_price:w,tag_ids:k,channelId:S,mall_code:R,force_not_correct:E,adp:f(s),is_force:s.is_force||"",sort:s.sort||"",source:s.source||"",source_status:s.source_status||"",page:s.page||1,limit:s.limit||120,context_info:C({catInfo:t,query:s})};var x,G;_(r)&&(Object.assign(M,{service_type:A,list_cat_id:O,force_suggest:null==a?void 0:a.double_lang_correct,src_tab_page_id:l||(null===(x=window)||void 0===x||null===(G=x.getSaPageInfo)||void 0===G?void 0:G.tab_page_id)||"-",poskey:b(t)}),u(r,s)?Object.assign(M,{scene:"all",search_source:y(s)}):m(r,s)?Object.assign(M,{scene:"trendChannel",search_source:y(s)}):p(r,s)?Object.assign(M,{scene:"store",store_code:D,ignore_direct:"true"}):g(r,s)&&Object.assign(M,{intent_channel_id:N,ignore_direct:"true",search_source:y(s)}));return M=h(M),M},w=e=>{const{request:t}=e,a=t.query||{},{type:i,mainParams:s}=P(e),{quickship:r,filter:o,catId:l,filterBrandIds:c,filterTagIds:n,maxPrice:d,minPrice:f,tagIds:y,channelId:I,serviceType:v,forceNotCorrect:C,listCatId:q,forceSuggest:w,intentChannelId:k,urlMallCode:S,filterMallCode:R,filter_goods_infos:A}=T(e);let E={...s,filter_goods_infos:A,quickship:r,filter:o,catId:l,filterBrandIds:c,filterTagIds:n,maxPrice:d,minPrice:f,tagIds:y,channelId:I,chooseTag:y,mallCode:R,forceNotCorrect:C,cancelFilterTagIds:n,needFilter:"1",needNavIndex:"0",needTagCloud:"1",positionAbt:"",maxDisc:"",mixDisc:"",enterMallCode:S,cancelFilter:"",chooseIds:a.choose_ids,showAllCategory:"1",selectAttributeGroup:a.selectAttributeGroup||""};return _(i)&&Object.assign(E,{serviceType:v,listCatId:q,forceSuggest:w,poskey:b(a)}),u(i,a)?Object.assign(E,{scene:"all"}):p(i,a)?Object.assign(E,{scene:"store",storeCode:a.store_code}):g(i,a)?Object.assign(E,{intentChannelId:k}):m(i,a)&&Object.assign(E,{scene:"trendChannel"}),E=h(E),E};var k=a(968928),S=a.n(k);const R=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),r=["storeHomePage","storeTemplatePage"].includes(null==t?void 0:t.src_module)||"store"===t.fromPageType,{date:o,newSrcTabPageId:l,quickship:c,filter:n,catId:d,filterBrandIds:_,filterTagIds:u,maxPrice:p,minPrice:g,tagIds:m,channelId:y,brandId:I,urlMallCode:v,filterMallCode:b,sort:C,source:q,sourceStatus:w,filter_goods_infos:k}=T(e);let S={...s,brand_id:I,date:o,quickship:c,filter:n,filterBrandIds:_,cat_ids:i.cat_ids,cat_id:d,filter_tag_ids:u,max_price:p,min_price:g,tag_ids:m,channelId:y,mall_code_list:v,choosed_mall_code:b,page_name:t.pageName,src_tab_page_id:l||"-",entranceType:t.entranceType||"",sort:C,source:q,styleType:i.styleType||"",source_status:w||"",adp:f(i),page:i.page||1,limit:t.limit||120,from_store:Number(!!r),filter_goods_infos:k,usePage:1,_type:"selection"};return S=h(S),S},A=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),{date:r,quickship:o,filter:l,catId:c,filterTagIds:n,brandId:d,maxPrice:_,minPrice:u,tagIds:p,chooseIds:g,filterBrandIds:m,urlMallCode:f,filterMallCode:y,sort:I}=T(e);let v={...s,brand_id:d,date:r,quickship:o,filter:l,filterBrandIds:m,cat_ids:i.cat_ids,cat_id:c,choosed_ids:g,filter_tag_ids:n,max_price:_,min_price:u,tag_ids:p,mall_code_list:f,choosed_mall_code:y,page_name:t.pageName,sort:I,styleType:i.styleType||"",showAllCategory:"1",selectAttributeGroup:i.selectAttributeGroup||"",_type:"selection"};return v=h(v),v},E=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),r=["storeHomePage","storeTemplatePage"].includes(null==t?void 0:t.src_module)||"store"===t.fromPageType||i.store_code,{quickship:o,filter:l,catId:c,filterTagIds:n,maxPrice:d,minPrice:_,tagIds:u,urlMallCode:p,filterMallCode:g,sort:m}=T(e),f="quickship"===i.tag_ids,y=i.mall_tag||"";let I="";f?I="quickship":y||(I=u);let v={...s,quickship:o,filter:l,cat_ids:i.cat_ids,child_cat_id:c,filter_tag_ids:n,max_price:d,min_price:_,choosed_tag:I,choosed_mall_code:g,mall_code_list:p,sort:m,page_name:t.pageName,page:i.page||1,limit:t.limit||120,styleType:i.styleType||"",from_store:Number(!!r),_type:"selection"};return v=h(v),v},O=e=>{const{request:t}=e,a=t.query||{},{mainParams:i}=P(e);if("1"!=a.show_daily)return null;const{quickship:s,filter:r,catId:o,filterTagIds:l,maxPrice:c,minPrice:n,tagIds:d,urlMallCode:_,filterMallCode:u}=T(e);let p={...i,today:S()(Date.now()).format("YYYY-MM-DD"),quickship:s,filter:r,cat_ids:a.cat_ids,child_cat_id:o,filter_tag_ids:l,max_price:c,min_price:n,mall_code_list:_,choosed_mall_code:u,styleType:a.styleType||"",tag_ids:d,_show_daily:a.show_daily||"",_type:"selection"};return h(p)},D=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{newSrcTabPageId:s,quickship:r,filter:o,catId:l,filterBrandIds:c,filterTagIds:n,maxPrice:d,minPrice:_,tagIds:u,channelId:p,urlMallCode:g,filterMallCode:m,sort:y,source:I,sourceStatus:v}=T(e);let P={quickship:r,filter:o,filterBrandIds:c,cat_ids:i.cat_ids,cat_id:l,filter_tag_ids:n,max_price:d,min_price:_,tag_ids:u,channelId:p,mall_code_list:m||g,src_tab_page_id:s,entranceType:t.entranceType||"",sort:y||0,source:I,styleType:i.styleType||"",source_status:v||"",page:i.page||1,limit:t.limit||120,filter_goods_infos:"",adp:f(i),srctype:"other",page_name:"page_daily_new",daily:i.daily,_type:"daily_new"};return P=h(P),P},N=e=>{const{request:t}=e,a=t.query||{},{quickship:i,filter:s,catId:r,filterTagIds:o,filterBrandIds:l,maxPrice:c,minPrice:n,tagIds:d,chooseIds:_,urlMallCode:u,filterMallCode:p}=T(e);let g={quickship:i,filter:s,filterBrandIds:l,cat_id:r,choosed_ids:_,filter_tag_ids:o,max_price:c,min_price:n,tag_ids:d,mall_code_list:p||u,styleType:a.styleType||"",showAllCategory:"1",selectAttributeGroup:a.selectAttributeGroup||"",daily:a.daily,page_name:"page_daily_new",_type:"daily_new"};return g=h(g),g},M=e=>{const{request:t}=e,a=t.query||{},{quickship:i,filter:s,catId:r,filterTagIds:o,maxPrice:l,minPrice:c,tagIds:n,urlMallCode:d,filterMallCode:_}=T(e),u="quickship"===a.tag_ids,p=a.mall_tag||"";let g="";u?g="quickship":p||(g=n);let m={quickship:i,filter:s,cat_id:r,filter_tag_ids:o,choosed_tag:g,max_price:l,min_price:c,mall_code_list:d,choosed_mall_code:_,styleType:a.styleType||"",kidRandom:a.kid_random||"",daily:a.daily,page_name:"page_daily_new",_type:"daily_new"};return m=h(m),m},x=e=>({...N(e),today:S()(Date.now()).format("YYYY-MM-DD"),choosed_ids:void 0}),G=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),{newSrcTabPageId:r,quickship:o,filter:l,catId:c,filterBrandIds:n,filterTagIds:d,maxPrice:_,minPrice:u,tagIds:p,channelId:g,urlMallCode:m,filterMallCode:y,sort:I,source:v,sourceStatus:b,filter_goods_infos:C}=T(e);let q={...s,quickship:o,filter:l,filterBrandIds:n,cat_ids:i.cat_ids,child_cat_id:c,filter_tag_ids:d,max_price:_,min_price:u,tag_ids:p,channelId:g,mall_code_list:m,choosed_mall_code:y,page_name:t.pageName,src_tab_page_id:r,entranceType:t.entranceType||"",sort:I,source:v,styleType:i.styleType||"",source_status:b||"",adp:f(i),page:i.page||1,limit:t.limit||120,filter_goods_infos:C,_type:"entity"};return q=h(q),q},H=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),{quickship:r,filter:o,catId:l,filterTagIds:c,filterBrandIds:n,maxPrice:d,minPrice:_,tagIds:u,chooseIds:p,urlMallCode:g,filterMallCode:m,sort:f}=T(e);let y={...s,quickship:r,filter:o,filterBrandIds:n,cat_ids:i.cat_ids,child_cat_id:l,choosed_ids:p,filter_tag_ids:c,max_price:d,min_price:_,tag_ids:u,mall_code_list:g,choosed_mall_code:m,page_name:t.pageName,sort:f,styleType:i.styleType||"",showAllCategory:"1",selectAttributeGroup:i.selectAttributeGroup||"",_type:"entity"};return y=h(y),y},B=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),{quickship:r,filter:o,catId:l,filterTagIds:c,maxPrice:n,minPrice:d,tagIds:_,urlMallCode:u,filterMallCode:p,sort:g}=T(e),m="quickship"===i.tag_ids,f=i.mall_tag||"";let y="";m?y="quickship":f||(y=_);let I={...s,quickship:r,filter:o,cat_ids:i.cat_ids,child_cat_id:l,filter_tag_ids:c,max_price:n,min_price:d,choosed_tag:y,choosed_mall_code:p,mall_code_list:u,sort:g,page_name:t.pageName,page:i.page||1,limit:t.limit||120,styleType:i.styleType||"",_type:"entity"};return I=h(I),I},L=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),{quickship:r,filter:o,catId:l,filterBrandIds:c,filterTagIds:n,maxPrice:d,minPrice:_,tagIds:u,urlMallCode:p,filterMallCode:g,sort:m}=T(e);let y={...s,adp:f(i),quickship:r,filter:o,filter_cat_id:l,filterBrandIds:c,filter_tag_ids:n,max_price:d,min_price:_,tag_ids:u,mall_code_list:g||p,sort:m||0,styleType:i.styleType||"",_type:"selling",page:i.page||1,limit:t.limit||120};return y=h(y),y},j=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),{quickship:r,filter:o,catId:l,filterTagIds:c,maxPrice:n,minPrice:d,tagIds:_,chooseIds:u,filterBrandIds:p,urlMallCode:g,filterMallCode:m}=T(e);let f={...s,quickship:r,filter:o,filter_cat_id:l,filterBrandIds:p,choosed_ids:u,filter_tag_ids:c,max_price:n,min_price:d,tag_ids:_,mall_code_list:m||g,page_name:t.pageName,styleType:i.styleType||"",showAllCategory:"1",selectAttributeGroup:i.selectAttributeGroup||"",_type:"selling"};return f=h(f),f},U=e=>{const{request:t}=e,a=t.query||{},{mainParams:i}=P(e),{filter:s,catId:r,filterTagIds:o,maxPrice:l,minPrice:c,urlMallCode:n,filterMallCode:d}=T(e);let _={...i,filter:s,filter_cat_id:r,filter_tag_ids:o,max_price:l,min_price:c,mall_code_list:n,choosed_mall_code:d,styleType:a.styleType||"",_type:"selling"};return _=h(_),_},F=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),r=["storeHomePage","storeTemplatePage"].includes(null==t?void 0:t.src_module)||"store"===t.fromPageType,{date:o,newSrcTabPageId:l,quickship:c,filter:n,catId:d,filterBrandIds:_,filterTagIds:u,maxPrice:p,minPrice:g,tagIds:m,channelId:y,brandId:I,urlMallCode:v,filterMallCode:b,sort:C,source:q,sourceStatus:w,filter_goods_infos:k}=T(e);let S={...s,brand_id:I,date:o,quickship:c,filter:n,filterBrandIds:_,cat_ids:i.cat_ids,child_cat_id:d,filter_tag_ids:u,max_price:p,min_price:g,tag_ids:m,channelId:y,mall_code_list:v,choosed_mall_code:b,page_name:t.pageName,src_tab_page_id:l||"-",entranceType:t.entranceType||"",sort:C,source:q,styleType:i.styleType||"",source_status:w||"",adp:f(i),page:i.page||1,limit:t.limit||120,from_store:Number(!!r),filter_goods_infos:k,usePage:1,_type:"sheinPicks"};return S=h(S),S},W=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),{date:r,quickship:o,filter:l,catId:c,filterTagIds:n,brandId:d,maxPrice:_,minPrice:u,tagIds:p,chooseIds:g,filterBrandIds:m,urlMallCode:f,filterMallCode:y,sort:I}=T(e);let v={...s,brand_id:d,date:r,quickship:o,filter:l,filterBrandIds:m,cat_ids:i.cat_ids,child_cat_id:c,choosed_ids:g,filter_tag_ids:n,max_price:_,min_price:u,tag_ids:p,mall_code_list:f,choosed_mall_code:y,page_name:t.pageName,sort:I,styleType:i.styleType||"",showAllCategory:"1",selectAttributeGroup:i.selectAttributeGroup||"",_type:"sheinPicks"};return v=h(v),v},K=e=>{const{catInfo:t,request:a}=e,i=a.query||{},{mainParams:s}=P(e),r=["storeHomePage","storeTemplatePage"].includes(null==t?void 0:t.src_module)||"store"===t.fromPageType||i.store_code,{quickship:o,filter:l,catId:c,filterTagIds:n,maxPrice:d,minPrice:_,tagIds:u,urlMallCode:p,filterMallCode:g,sort:m}=T(e),f="quickship"===i.tag_ids,y=i.mall_tag||"";let I="";f?I="quickship":y||(I=u);let v={...s,quickship:o,filter:l,cat_ids:i.cat_ids,child_cat_id:c,filter_tag_ids:n,max_price:d,min_price:_,choosed_tag:I,choosed_mall_code:g,mall_code_list:p,sort:m,page_name:t.pageName,page:i.page||1,limit:t.limit||120,styleType:i.styleType||"",from_store:Number(!!r),_type:"sheinPicks"};return v=h(v),v},Y=e=>{const{request:t}=e,a=t.query||{};let i={};const s=(r=location.href,null===(o=r.match(/\/([a-z0-9]+-picks|romwe-[a-z]+|promo-discount)(-list-([a-zA-Z0-9]+))?\.html/))||void 0===o?void 0:o[1]);var r,o;return a.hrefTarget?i.pageId=a.hrefTarget:s&&(i.pageName=s),a.cacheKey&&(i.cacheKey=a.cacheKey),i};var $=a(973106);const V=e=>{const{catInfo:t}=e,{type:a,sub_type:i}=t||{};let r;if("store"===a)r=!0;else{var o;const e=s.get(a);r=null===(o=(0,$.T)([e]))||void 0===o?void 0:o[e]}let l={nodeParams:v(e)||{},goodsParams:null,filterParams:null,cloudTagParams:null,categoryDayTagParams:null,navParams:null};if(r){var c;l.nodeParams.useBffProducts=!0,l.nodeParams.useBffFilters=!0;const t=null===(c=(0,$.T)(["ccc_config"]))||void 0===c?void 0:c.ccc_config;switch(l.nodeParams.useBffCccConfig=t,a){case"selling":l=Object.assign(l,(e=>({goodsParams:L(e),filterParams:j(e),cloudTagParams:U(e)}))(e),{method:"GET"});break;case"daily_new":l=Object.assign(l,(e=>({goodsParams:D(e),filterParams:N(e),cloudTagParams:M(e),categoryDayTagParams:x(e)}))(e));break;case"search":l=Object.assign(l,(e=>({goodsParams:q(e),filterParams:w(e)}))(e));break;case"entity":l=Object.assign(l,(e=>({goodsParams:G(e),filterParams:H(e),cloudTagParams:B(e)}))(e));break;case"selection":l=Object.assign(l,(e=>({goodsParams:R(e),filterParams:A(e),cloudTagParams:E(e),categoryDayTagParams:O(e)}))(e));break;case"picks":l=Object.assign(l,(e=>({goodsParams:F(e),filterParams:W(e),cloudTagParams:K(e),navParams:Y(e)}))(e));break;case"store":l="search"===i?Object.assign(l,(e=>{var t;const a=(null==e||null===(t=e.request)||void 0===t?void 0:t.query)||{},i={store_code:a.store_code,scene:"store"};a.rule_poskey&&(i.web_rule_poskey=a.rule_poskey);const s={ignore_direct:"true"};return a.force_send_adp&&(s.adp=a.pic_nav_adp||a.adp),{goodsParams:{...q(e),...i,...s},filterParams:{...w(e),...i}}})(e)):Object.assign(l,(e=>{var t;const a=(null==e||null===(t=e.request)||void 0===t?void 0:t.query)||{},i={store_code:a.store_code};a.rule_poskey&&(i.web_rule_poskey=a.rule_poskey);const s={};return a.force_send_adp&&(s.adp=a.pic_nav_adp||a.adp),{goodsParams:{...R(e),...i,...s},filterParams:{...A(e),...i},cloudTagParams:{...E(e),...i}}})(e))}}return l};function z({catInfo:e}){if(!e)throw new Error("catInfo is required");return"picks"==(null==e?void 0:e.type)?location.pathname:"store"==(null==e?void 0:e.type)?"/api/store/items/get":i}const J=({catInfo:e})=>{if(!e)throw new Error("catInfo is required");const{type:t,sub_type:a}=e,i="store"===t?a:t,{SEARCH:s,REAL:o,SELEST:l,COMMON:c,DAILY_NEW:n,SELLING:d,SHEIN_PICKS:_}=r;switch(i){case"search":return{goods:s.goods,filters:s.filters};case"entity":return{goods:o.goods,filters:o.filters,cloudTag:o.cloudTag};case"selection":return{goods:l.goods,filters:l.filters,cloudTag:l.cloudTag,showRecentDays:c.categoryDay};case"selling":return{goods:d.goods,filters:d.filters,cloudTag:d.cloudTag};case"daily_new":return{goods:n.goods,filters:n.filters,cloudTag:n.cloudTag,showRecentDays:c.showRecentDays};case"picks":return{goods:_.goods,filters:_.filters,cloudTag:_.cloudTag,navTabs:_.navTabs}}},Z=new Map([["entity",1],["selection",9]]),Q=e=>{var t;const a=e.method||"POST",i=null===(t=J(e))||void 0===t?void 0:t.goods;(0,o.A)({method:a,url:i,params:e.params,useBffApi:!0}).then((t=>{e.cb(null,t)}))},X=e=>{var t;const a=e.method||"GET",i=null===(t=J(e))||void 0===t?void 0:t.filters;(0,o.A)({method:a,url:i,params:e.params,useBffApi:!0}).then((t=>{e.cb(null,t)}))},ee=e=>{var t;const a=e.method||"GET",i=null===(t=J(e))||void 0===t?void 0:t.cloudTag;(0,o.A)({method:a,url:i,params:e.params,useBffApi:!0}).then((t=>{e.cb(null,t)}))},te=async e=>{var t;const a=e.method||"GET",i=null===(t=J(e))||void 0===t?void 0:t.navTabs;return await(0,o.A)({method:a,url:i,params:e.params,useBffApi:!0})},ae=e=>{var t;const a=e.method||"GET",i=null===(t=J(e))||void 0===t?void 0:t.showRecentDays;(0,o.A)({method:a,url:i,params:e.params,useBffApi:!0}).then((t=>{e.cb(null,t)}))};async function ie(e,t={}){var a,i,s,r,l,c,d;const _=V(e),u=(null==_||null===(a=_.nodeParams)||void 0===a?void 0:a.useBffProducts)&&1===(null===(i=e.request)||void 0===i||null===(s=i.query)||void 0===s?void 0:s.prePureGoods)&&1===(null===(r=e.request)||void 0===r||null===(l=r.query)||void 0===l?void 0:l.page),p="picks"===(null===(c=e.catInfo)||void 0===c?void 0:c.type),g="pageChange"!==(null===(d=e.request)||void 0===d?void 0:d.type)&&!u;let m={};u||("picks"===_.nodeParams.type?(_.nodeParams._is_shein_picks_node_xhr=!0,m.nodeRes=a=>{(0,o.A)({url:z(e),params:_.nodeParams,...t}).then((e=>{a(null,e)}))}):m.nodeRes=a=>{(0,o.A)({url:z(e),params:_.nodeParams,...t}).then((e=>{a(null,e)}))});let f={},y=[],h={},I={},v={};var T,P;if(_.navParams&&(I=await async function({config:e,requertParams:t,isSheinPicks:a}){var i,s;const r=a?await te({...e,params:t.navParams}):{};let o=[];return"0"===r.code&&(null===(i=r.info)||void 0===i||null===(s=i.categories)||void 0===s?void 0:s.length)>0?(o=r.info.categories.map((e=>({adp:e.adp,id:e.cat_id,title:e.cat_name,image:e.image,hrefTarget:e.cat_id,hrefType:1===Number(e.type)?"realOne":"itemPicking",catChecked:!0}))),{curlCommand:(null==r?void 0:r.curlCommand)||"",...r.info,picksMenuList:o}):{}}({config:e,requertParams:_,isSheinPicks:p}),f=I.background||{},null!==(T=f)&&void 0!==T&&T.image&&f.image.src&&(f={...f,...f.image,imgSrc:f.image.src}),y=I.picksMenuList||[],null!==(P=y)&&void 0!==P&&P.length)){const e=y[0];"realOne"===e.hrefType?(h.sub_type="entity",h.cat_id=e.id,h.entity_id=e.id):(h.sub_type="selection",h.select_id=e.id),h.adp=e.adp,h.picksType=I.pageId,h.picks_id=e.id,v={type:Z.get(h.sub_type)}}_.goodsParams&&(m.goods=t=>{e.request&&e.request.query&&(e.request.query={...e.request.query,...h}),Q({...e,method:_.method,params:{..._.goodsParams,...v},cb:t})}),_.filterParams&&g&&(m.filters=t=>{e.request&&e.request.query&&(e.request.query={...e.request.query,...h}),X({...e,method:_.method,params:{..._.filterParams,...v},cb:t})}),_.cloudTagParams&&g&&(m.cloudTags=t=>{ee({...e,method:_.method,params:{..._.cloudTagParams,...v},cb:t})}),_.categoryDayTagParams&&g&&(m.dailyDates=t=>{ae({...e,params:_.categoryDayTagParams,cb:t})});const b=await n(m);var C;y.length>0&&(b.picksMenuList=y,b.topBanner=Object.keys(f).length>0?[f]:[],b.picksLink=(null===(C=I.picksLink)||void 0===C?void 0:C[I.pageId])||"");return se(e,b)}const se=(e,t)=>{const a=e.catInfo||{};if(null!=t&&t.goods){var i,s,r,o,l,c,n;const e=null!==(i=t.goods)&&void 0!==i?i:{},d=null!==(s=t.filters)&&void 0!==s?s:{},_=null!==(r=t.cloudTags)&&void 0!==r?r:{},u=null!==(o=t.dailyDates)&&void 0!==o?o:{},p=null!==(l=t.picksMenuList)&&void 0!==l?l:[],g=null!==(c=t.topBanner)&&void 0!==c?c:[],m=null!==(n=t.picksLink)&&void 0!==n?n:"",f="0"===e.code?{code:"0",...e.info}:{},y="0"===u.code?{code:"0",...u.info}:{};let h={};const{type:I,sub_type:v}=a,T="store"===I?v:I;"search"===T?h="0"===d.code?d.info:{}:["entity","selection","selling","daily_new","picks"].includes(T)&&(h=function({bffCateAttrResult:e,bffPicNavResult:t,bffCloudTagResult:a,bffDailyDatesResult:i},s={}){var r,o,l,c,n,d,_,u,p,g,m,f,y,h,I,v,T;const P="0"===(null==t?void 0:t.code)?t.info:{},b="0"===(null==e?void 0:e.code)?e.info:{},C="0"===(null==a?void 0:a.code)?a.info:{},q="0"===(null==i?void 0:i.code)?i.info:{},w={cateId:null!==(r=null==b?void 0:b.cateId)&&void 0!==r?r:"",show_adult_tip:(null==b?void 0:b.show_adult_tip)||(null==b?void 0:b.showAdultTip),tagSlotConfigs:null!==(o=null==C?void 0:C.tagSlotConfigs)&&void 0!==o?o:[],tags:null!==(l=null==C?void 0:C.tags)&&void 0!==l?l:[],filterList:null!==(c=null==b?void 0:b.filterList)&&void 0!==c?c:[],filterSortConfigs:null!==(n=null==b?void 0:b.filterSortConfigs)&&void 0!==n?n:[],attribute:null!==(d=null==b?void 0:b.attribute)&&void 0!==d?d:[],navs:null!==(_=null==P?void 0:P.navs)&&void 0!==_?_:[],list_nav_source:null!==(u=null==P?void 0:P.list_nav_source)&&void 0!==u?u:"",tabs:null!==(p=null==P?void 0:P.tabs)&&void 0!==p?p:[],min_price:null!==(g=null==b?void 0:b.min_price)&&void 0!==g?g:0,max_price:null!==(m=null==b?void 0:b.max_price)&&void 0!==m?m:0,cat_path:null!==(f=null==b?void 0:b.cat_path)&&void 0!==f?f:[],categories:null!==(y=null==b?void 0:b.categories)&&void 0!==y?y:[],all_categories:null!==(h=null==b?void 0:b.all_categories)&&void 0!==h?h:[],bannerTag:null!==(I=null==C?void 0:C.bannerTag)&&void 0!==I?I:{},tagChild:null!==(v=null==C?void 0:C.tagChild)&&void 0!==v?v:{},dailyDates:null!==(T=null==q?void 0:q.daily)&&void 0!==T?T:[]};return"picks"===(null==s?void 0:s.type)&&(w.picksCatId=b.selectId),w}({bffCateAttrResult:"0"===d.code?d:{},bffCloudTagResult:"0"===_.code?_:{},bffDailyDatesResult:"0"===u.code?u:{}},a));return{...t.nodeRes,bffProductsInfo:f,bffFilterInfo:h,bffDailyDates:y,picksMenuList:p,topBanner:g,picksLink:m}}return t.nodeRes};var re=a(28366),oe=a(127269);let le=null;const ce=()=>{le=le||async function(){var e,t,a,i,s,r,o;if("undefined"==typeof window)return Promise.resolve();if("undefined"==typeof gbRawData)return Promise.resolve();if(null===(e=gbRawData)||void 0===e||null===(t=e.results)||void 0===t||!t.firstStrategyGoodsNum||(null===(a=gbRawData)||void 0===a||null===(i=a.results)||void 0===i?void 0:i.firstStrategyGoodsNum)<=0)return Promise.resolve();if((0,oe.jP)())return Promise.resolve();"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=(null===(s=gbRawData.results)||void 0===s?void 0:s.atomicParams)||{},c=(null===(r=gbRawData.results)||void 0===r?void 0:r.cat_info)||{},n=(null===(o=gbRawData.results)||void 0===o?void 0:o.searchKeywords)||{},d={type:"firstLoad",query:{page:1,prePureGoods:1,...(0,re.J)(location.search)}};return await ie({catInfo:c,searchKeywords:n,atomicParams:l,viewedGoods:[],request:d},{isPreFetch:!0}).catch((()=>({})))}()},ne=()=>(le||ce(),le)},449631:(e,t,a)=>{a.d(t,{Fu:()=>s,P8:()=>l,iZ:()=>i,sT:()=>r});const i={EDIT_SEARCH:2,DEFAULT_SEARCH:3,SUGGESTION_SEARCH:4,RECENT_SEARCH:5,HOT_SEARCH:6,SUGGESTION_SEARCH_CATEGORY:7,SUGGESTION_SEARCH_FEEDBACK:8,HOT_SEARCH_PIC:9,LIST_FLOW:10,SEARCH_TREND:11,LIST_SEARCH:12,SEARCH_DISCOVERY:13,COMPOUND_SEARCH:15,SUGGSTION_ATTRI:18,CORRECT_ORIGINAL_WORD:19},s={USER_INPUT:1,ASSOCIATION:2,DEFAULT_WORD:3,HOT_WORD:4,TREND_WORD:5,IMG_NAV:6},r=["child_cat_id","attr_ids","tag_ids","min_price","max_price"],o={EDIT_SEARCH:s.USER_INPUT,DEFAULT_SEARCH:s.DEFAULT_WORD,SUGGESTION_SEARCH:s.ASSOCIATION,RECENT_SEARCH:s.USER_INPUT,HOT_SEARCH:s.HOT_WORD,SUGGESTION_SEARCH_CATEGORY:s.ASSOCIATION,SUGGESTION_SEARCH_FEEDBACK:s.ASSOCIATION,HOT_SEARCH_PIC:s.HOT_WORD,LIST_FLOW:s.HOT_WORD,SEARCH_TREND:s.TREND_WORD,LIST_SEARCH:s.HOT_WORD,SEARCH_DISCOVERY:s.HOT_WORD,COMPOUND_SEARCH:s.USER_INPUT,SUGGSTION_ATTRI:s.ASSOCIATION,CORRECT_ORIGINAL_WORD:s.USER_INPUT},l=e=>{const[t]=Object.entries(i).filter((([,t])=>t===Number(e)))[0]||[];return t?o[t]:s.USER_INPUT}}}]);
//# sourceMappingURL=43824-e133239fdf814d4e.js.map